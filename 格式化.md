在命令行输入 `gofmt –w program.go` 会格式化该源文件的代码然后将格式化后的代码覆盖原始内容（如果不加参数 `-w` 则只会打印格式化后的结果而不重写文件）；`gofmt -w *.go` 会格式化并重写所有 Go 源文件；`gofmt map1` 会格式化并重写 map1 目录及其子目录下的所有 Go 源文件。

`gofmt` 也可以通过在参数 `-r` 后面加入用双引号括起来的替换规则实现代码的简单重构，规则的格式：`<原始内容> -> <替换内容>`。

实例：

```
gofmt -r '(a) -> a' –w *.go
```

上面的代码会将源文件中没有意义的括号去掉。

```
gofmt -r 'a[n:len(a)] -> a[n:]' –w *.go
```

上面的代码会将源文件中多余的 `len(a)` 去掉。（ **译者注：了解切片（slice）之后就明白这为什么是多余的了** ）

```
gofmt –r 'A.Func1(a,b) -> A.Func2(b,a)' –w *.go
```